---
import Icon from '../AstroIcon.astro';
import AccountDropdown from './AccountDropdown.astro';
---

<div
  class='sticky top-0 z-50 border-b border-white/10 text-white backdrop-blur-xl'
  style='background: linear-gradient(135deg, rgba(10, 15, 30, 0.85) 0%, rgba(26, 31, 53, 0.75) 100%);
          box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(99, 102, 241, 0.1) inset;'
>
  <nav class='container flex items-center justify-between py-4'>
    <a
      class='group flex items-center gap-3 text-lg font-bold text-white transition-all hover:scale-105'
      href='/'
    >
      <div class='flex items-center'>
        <Icon icon='logo' />
      </div>
      <span class='gradient-text-brand hidden md:block'> DevPath</span>
    </a>

    <!-- Desktop navigation items -->
    <ul class='hidden space-x-1 sm:flex sm:items-center'>
      <li>
        <a
          href='/roadmaps'
          class='rounded-lg px-4 py-2 text-sm font-medium text-muted transition-all hover:bg-white/5 hover:text-white'
        >
          Roadmaps
        </a>
      </li>
      <li>
        <a
          href='/best-practices'
          class='rounded-lg px-4 py-2 text-sm font-medium text-muted transition-all hover:bg-white/5 hover:text-white'
        >
          Best Practices
        </a>
      </li>
      <li>
        <a
          href='/guides'
          class='rounded-lg px-4 py-2 text-sm font-medium text-muted transition-all hover:bg-white/5 hover:text-white'
        >
          Guides
        </a>
      </li>
      <li>
        <a
          href='/videos'
          class='rounded-lg px-4 py-2 text-sm font-medium text-muted transition-all hover:bg-white/5 hover:text-white'
        >
          Videos
        </a>
      </li>
    </ul>
    <ul class='hidden h-8 w-[200px] items-center justify-end gap-3 sm:flex'>
      <li data-guest-required class='hidden'>
        <a
          href='/login'
          class='text-sm font-medium text-muted transition-colors hover:text-white'
          >Login</a
        >
      </li>
      <li>
        <AccountDropdown />

        <a
          data-guest-required
          class='btn-primary hidden h-9 cursor-pointer items-center justify-center px-5 text-sm'
          href='/signup'
        >
          <span>Sign Up</span>
        </a>
      </li>
    </ul>

    <!-- Mobile Navigation Button -->
    <button
      class='group block cursor-pointer rounded-lg p-2 text-muted transition-all hover:bg-white/5 hover:text-white sm:hidden'
      aria-label='Menu'
      data-show-mobile-nav
    >
      <Icon icon='hamburger' />
    </button>

    <!-- Mobile Navigation Items -->
    <div
      class='fixed bottom-0 left-0 right-0 top-0 z-40 flex hidden items-center backdrop-blur-2xl'
      style='background: linear-gradient(135deg, rgba(5, 8, 17, 0.98) 0%, rgba(10, 15, 30, 0.95) 100%);'
      data-mobile-nav
    >
      <button
        data-close-mobile-nav
        class='absolute right-6 top-6 block cursor-pointer rounded-lg p-2 text-gray-400 transition-all hover:bg-white/5 hover:text-white'
        aria-label='Close Menu'
      >
        <Icon icon='close' />
      </button>
      <ul class='flex w-full flex-col items-center gap-4 md:gap-5'>
        <li>
          <a
            href='/roadmaps'
            class='text-2xl font-semibold text-white transition-all hover:text-accent md:text-xl'
          >
            Roadmaps
          </a>
        </li>
        <li>
          <a
            href='/best-practices'
            class='text-2xl font-semibold text-white transition-all hover:text-accent md:text-xl'
          >
            Best Practices
          </a>
        </li>
        <li>
          <a
            href='/guides'
            class='text-2xl font-semibold text-white transition-all hover:text-accent md:text-xl'
          >
            Guides
          </a>
        </li>
        <li>
          <a
            href='/videos'
            class='text-2xl font-semibold text-white transition-all hover:text-accent md:text-xl'
          >
            Videos
          </a>
        </li>

        <!-- Links for logged in users -->
        <li data-auth-required class='hidden'>
          <a
            href='/settings/update-profile'
            class='text-2xl font-semibold text-white transition-all hover:text-accent md:text-xl'
          >
            Settings
          </a>
        </li>
        <li data-auth-required class='hidden'>
          <button
            data-logout-button
            class='text-2xl font-semibold text-danger transition-all hover:text-red-400 md:text-xl'
          >
            Logout
          </button>
        </li>
        <li>
          <a
            data-guest-required
            href='/signup'
            class='hidden text-2xl font-semibold text-white transition-all hover:text-accent md:text-xl'
          >
            Login
          </a>
        </li>
        <li>
          <a
            data-guest-required
            href='/signup'
            class='btn-primary mt-4 hidden px-8 py-4 text-xl md:text-lg'
          >
            Sign Up
          </a>
        </li>
      </ul>
    </div>
  </nav>
</div>

<script src='./navigation.ts'></script>
