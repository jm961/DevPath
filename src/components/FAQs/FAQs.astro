---
import { markdownToHtml } from '../../lib/markdown';
import Answer from './Answer.astro';
import Question from './Question.astro';

export type FAQType = {
  question: string;
  answer: string[];
};

export interface Props {
  faqs: FAQType[];
}

const { faqs } = Astro.props;

if (faqs.length === 0) {
  return '';
}
---

<div class='mt-8 border-t border-white/5 bg-surface/30'>
  <div class='container'>
    <div class='relative -top-5 flex justify-between'>
      <h1
        class='rounded-md border border-white/10 bg-surface px-3 py-1 text-sm font-medium text-white sm:text-base'
      >
        Frequently Asked Questions
      </h1>
    </div>

    <div class='flex flex-col gap-1 pb-14'>
      {
        faqs.map((faq, questionIndex) => (
          <Question isActive={questionIndex === 0} question={faq.question}>
            <Answer>
              {faq.answer.map((answer) => (
                <p set:html={markdownToHtml(answer)} />
              ))}
            </Answer>
          </Question>
        ))
      }
    </div>
  </div>
</div>
