---
import type { VideoFileType } from '../lib/video';

export interface Props {
  video: VideoFileType;
}

const { video } = Astro.props;
const { frontmatter, id } = video;
---

<a
  class='group flex items-center justify-between gap-4 rounded-lg border border-white/5 bg-white/[0.02] p-4 no-underline transition-all hover:border-primary/30 hover:bg-white/[0.05] sm:p-5'
  href={`/videos/${id}`}
>
  <div class='flex items-center gap-4'>
    <!-- Play Icon -->
    <div
      class='flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-accent/10 ring-1 ring-accent/20 transition-all group-hover:bg-accent/20 group-hover:ring-accent/30'
    >
      <svg class='h-5 w-5 text-accent' fill='currentColor' viewBox='0 0 24 24'>
        <path d='M8 5v14l11-7z'></path>
      </svg>
    </div>

    <!-- Content -->
    <div>
      <h3
        class='text-base font-semibold text-muted transition-colors group-hover:text-white sm:text-lg'
      >
        {frontmatter.title}
      </h3>

      {
        frontmatter.isNew && (
          <span class='mt-1 inline-flex items-center gap-1.5 rounded-full bg-accent/10 px-2 py-0.5 text-xs font-semibold text-accent ring-1 ring-accent/20'>
            <span class='flex h-1.5 w-1.5'>
              <span class='absolute inline-flex h-1.5 w-1.5 animate-ping rounded-full bg-accent opacity-75' />
              <span class='relative inline-flex h-1.5 w-1.5 rounded-full bg-accent' />
            </span>
            New
            <span class='hidden sm:inline'>
              &middot;
              {new Date(frontmatter.date).toLocaleString('default', {
                month: 'long',
              })}
            </span>
          </span>
        )
      }
    </div>
  </div>

  <!-- Right side -->
  <div class='flex items-center gap-3'>
    <span class='hidden text-xs font-medium text-muted sm:block'>
      {frontmatter.duration}
    </span>
    <svg
      class='h-5 w-5 flex-shrink-0 text-muted transition-all group-hover:translate-x-1 group-hover:text-primary'
      fill='none'
      stroke='currentColor'
      viewBox='0 0 24 24'
    >
      <path
        stroke-linecap='round'
        stroke-linejoin='round'
        stroke-width='2'
        d='M9 5l7 7-7 7'></path>
    </svg>
  </div>
</a>
