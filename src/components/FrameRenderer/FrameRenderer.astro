---
import './FrameRenderer.css';

export interface Props {
  resourceType: 'roadmap' | 'best-practice';
  resourceId: string;
  jsonUrl: string;
  dimensions?: {
    width: number;
    height: number;
  };
  useModernRenderer?: boolean;
}

const {
  resourceId,
  resourceType,
  jsonUrl,
  dimensions = null,
  useModernRenderer = false, // Changed to false for better compatibility
} = Astro.props;
---

<div
  id='resource-svg-wrap'
  class='roadmap-container'
  style={
    dimensions
      ? `--aspect-ratio:${dimensions.width}/${dimensions.height}`
      : null
  }
  data-resource-type={resourceType}
  data-resource-id={resourceId}
  data-json-url={jsonUrl}
>
</div>

<script>
  console.log('üîß Loading roadmap renderer module...');
  
  import('./renderer.js').then(module => {
    console.log('‚úÖ Renderer module loaded');
    const renderer = new module.Renderer();
    renderer.init();
  }).catch(error => {
    console.error('‚ùå Failed to load renderer:', error);
  });
</script>
