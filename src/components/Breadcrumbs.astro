---
import type { BreadcrumbItem } from '../lib/roadmap-topic';

export interface Props {
  breadcrumbs: BreadcrumbItem[];
  roadmapId: string;
}

const { breadcrumbs, roadmapId } = Astro.props;
---

<div class='border-b border-white/5 bg-gradient-to-b from-transparent to-surface/30'>
  <div class='container py-4 sm:py-6'>
    <!-- Desktop breadcrumbs -->
    <nav class='hidden items-center gap-2 text-sm sm:flex' aria-label='Breadcrumb'>
      {
        breadcrumbs.map((breadcrumb, counter) => {
          const isLast = counter === breadcrumbs.length - 1;

          if (!isLast) {
            return (
              <>
                <a 
                  class='text-muted transition-colors hover:text-primary' 
                  href={`${breadcrumb.url}`}
                >
                  {breadcrumb.title}
                </a>
                <svg class='h-4 w-4 flex-shrink-0 text-muted/50' fill='none' stroke='currentColor' viewBox='0 0 24 24'>
                  <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 5l7 7-7 7'></path>
                </svg>
              </>
            );
          }

          return (
            <span class='font-medium text-white'>{breadcrumb.title}</span>
          );
        })
      }
    </nav>

    <!-- Mobile back button -->
    <div class='block sm:hidden'>
      <a
        class='inline-flex items-center gap-2 rounded-lg bg-white/5 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all hover:bg-white/10'
        href={`/${roadmapId}`}
      >
        <svg class='h-4 w-4' fill='none' stroke='currentColor' viewBox='0 0 24 24'>
          <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M10 19l-7-7m0 0l7-7m-7 7h18'></path>
        </svg>
        <span>Back to Roadmap</span>
      </a>
    </div>
  </div>
</div>
