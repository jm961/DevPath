---
import { getFormattedStars } from '../lib/github';
import Icon from './AstroIcon.astro';

const starCount = await getFormattedStars('kamranahmedse/developer-roadmap');
---

<div
  class='relative border-t border-white/5 py-16 text-center sm:py-24'
  style='background: linear-gradient(180deg, rgba(10, 15, 30, 0.3) 0%, rgba(5, 8, 17, 0.6) 100%);'
>
  <!-- Decorative elements -->
  <div class='absolute inset-0 -z-10 overflow-hidden'>
    <div
      class='absolute left-1/2 top-1/2 h-[400px] w-[400px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-primary/10 blur-[100px]'
    >
    </div>
  </div>

  <div class='container relative max-w-[720px]'>
    <h2 class='gradient-text-brand mb-4 text-3xl font-extrabold sm:text-5xl'>
      Join the Community
    </h2>
    <p class='mx-auto max-w-xl text-base leading-relaxed text-muted sm:text-lg'>
      DevPath is open-source and built with love. Star us on GitHub and connect
      with thousands of developers on Discord.
    </p>

    <div
      class='mt-8 flex flex-col items-center justify-center gap-4 sm:flex-row'
    >
      <a
        href='https://github.com/yourname/devpath'
        target='_blank'
        class='btn-ghost group inline-flex items-center gap-2 px-6 py-3 text-sm'
      >
        <Icon icon='star' class='h-4 w-4 fill-current text-yellow-400' />
        <span>{starCount}</span>
        <span>GitHub Stars</span>
      </a>

      <a
        href='https://discord.gg/cJpEt5Qbwa'
        target='_blank'
        class='btn-ghost group inline-flex items-center gap-2 px-6 py-3 text-sm'
      >
        <Icon icon='discord' class='h-4 w-4 fill-current text-primary' />
        <span>Join Discord</span>
        <span
          class='rounded-full bg-primary/20 px-2 py-0.5 text-xs font-bold text-primary'
          >New</span
        >
      </a>
    </div>
  </div>
</div>
