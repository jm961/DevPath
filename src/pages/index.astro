---
import FeaturedItems from '../components/FeaturedItems/FeaturedItems.astro';
import Footer from '../components/Footer.astro';
import BaseLayout from '../layouts/BaseLayout.astro';
import { getAllBestPractices } from '../lib/best-pratice';
import { getAllGuides } from '../lib/guide';
import { getRoadmapsByTag } from '../lib/roadmap';
import { getAllVideos } from '../lib/video';

const roleRoadmaps = await getRoadmapsByTag('role-roadmap');
const skillRoadmaps = await getRoadmapsByTag('skill-roadmap');
const bestPractices = await getAllBestPractices();

const guides = await getAllGuides();
const videos = await getAllVideos();
---

<BaseLayout
  title='DevPath — Your developer growth path'
  description={'Curated roadmaps, guides, and tools to help you choose your path and level up as a developer.'}
  permalink={'/'}
>
  <div class='relative'>
    <!-- Animated Background -->
    <div class='animated-landing-bg'>
      <div class='gradient-orb gradient-orb-1'></div>
      <div class='gradient-orb gradient-orb-2'></div>
      <div class='gradient-orb gradient-orb-3'></div>
    </div>

    <!-- Hero Section - Minimal & Bold -->
    <div class='relative'>
      <div class='container px-6 py-20 sm:py-32 lg:py-40'>
        <div class='mx-auto max-w-5xl'>
          <!-- Badge -->
          <div class='mb-6 flex items-center gap-3 sm:mb-8'>
            <div
              class='h-px flex-1 bg-gradient-to-r from-transparent to-primary/30'
            >
            </div>
            <div class='flex items-center gap-2 text-sm text-muted'>
              <div class='h-1.5 w-1.5 animate-pulse rounded-full bg-primary'>
              </div>
              <span>Trusted by 100K+ developers</span>
            </div>
            <div
              class='h-px flex-1 bg-gradient-to-l from-transparent to-primary/30'
            >
            </div>
          </div>

          <!-- Main Heading -->
          <h1
            class='mb-8 text-center text-5xl font-black leading-[1.1] tracking-tight text-white sm:text-7xl lg:text-8xl'
          >
            <span class='block'>Master Your</span>
            <span class='block'>Dev Journey</span>
          </h1>

          <!-- Subtitle -->
          <p
            class='mx-auto mb-12 max-w-2xl text-center text-lg text-muted sm:text-xl'
          >
            Interactive roadmaps, expert guides, and proven learning paths—all
            in one place
          </p>

          <!-- CTA Buttons -->
          <div
            class='flex flex-col items-center justify-center gap-4 sm:flex-row'
          >
            <a
              href='/roadmaps'
              class='btn-primary group inline-flex items-center gap-2 px-10 py-5 text-base'
            >
              <span>Start Learning</span>
              <svg
                class='h-5 w-5 transition-transform group-hover:translate-x-1'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M13 7l5 5m0 0l-5 5m5-5H6'></path>
              </svg>
            </a>
            <a
              href='/guides'
              class='btn-ghost inline-flex items-center gap-2 px-10 py-5 text-base'
            >
              <span>Explore Guides</span>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <div class='border-b border-white/5 py-20 sm:py-32'>
      <div class='container px-6'>
        <div class='mb-16 text-center'>
          <h2
            class='mb-4 text-4xl font-black text-white sm:text-5xl lg:text-6xl'
          >
            Everything You Need
          </h2>
          <p class='mx-auto max-w-xl text-lg text-muted'>
            A complete learning ecosystem designed for developers
          </p>
        </div>

        <!-- Features Grid -->
        <div class='mx-auto max-w-7xl'>
          <div class='grid gap-6 sm:grid-cols-2 lg:grid-cols-3'>
            <!-- Roadmaps -->
            <div
              class='group relative overflow-hidden rounded-3xl border border-white/10 p-8 transition-all duration-300 hover:border-primary/50'
              style='background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(10, 15, 30, 0.8) 100%); backdrop-filter: blur(20px);'
            >
              <div
                class='mb-4 inline-flex rounded-2xl bg-primary/20 p-4 ring-1 ring-primary/30'
              >
                <svg
                  class='h-8 w-8 text-primary'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                >
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7'
                  ></path>
                </svg>
              </div>
              <h3 class='mb-2 text-xl font-bold text-white'>30+ Roadmaps</h3>
              <p class='text-muted'>Structured learning paths for every role</p>
            </div>

            <!-- Guides -->
            <div
              class='group relative overflow-hidden rounded-3xl border border-white/10 p-8 transition-all duration-300 hover:border-accent/50'
              style='background: linear-gradient(135deg, rgba(6, 182, 212, 0.08) 0%, rgba(10, 15, 30, 0.8) 100%); backdrop-filter: blur(20px);'
            >
              <div
                class='mb-4 inline-flex rounded-2xl bg-accent/20 p-4 ring-1 ring-accent/30'
              >
                <svg
                  class='h-8 w-8 text-accent'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                >
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253'
                  ></path>
                </svg>
              </div>
              <h3 class='mb-2 text-xl font-bold text-white'>Expert Guides</h3>
              <p class='text-muted'>In-depth technical content</p>
            </div>

            <!-- Best Practices -->
            <div
              class='hover:border-secondary/50 group relative overflow-hidden rounded-3xl border border-white/10 p-8 transition-all duration-300'
              style='background: linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(10, 15, 30, 0.8) 100%); backdrop-filter: blur(20px);'
            >
              <div
                class='bg-secondary/20 ring-secondary/30 mb-4 inline-flex rounded-2xl p-4 ring-1'
              >
                <svg
                  class='text-secondary h-8 w-8'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                >
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z'></path>
                </svg>
              </div>
              <h3 class='mb-2 text-xl font-bold text-white'>Best Practices</h3>
              <p class='text-muted'>Industry-standard patterns</p>
            </div>

            <!-- Videos -->
            <div
              class='group relative overflow-hidden rounded-3xl border border-white/10 p-8 transition-all duration-300 hover:border-primary/50'
              style='background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(10, 15, 30, 0.8) 100%); backdrop-filter: blur(20px);'
            >
              <div
                class='mb-4 inline-flex rounded-2xl bg-primary/20 p-4 ring-1 ring-primary/30'
              >
                <svg
                  class='h-8 w-8 text-primary'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                >
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z'
                  ></path>
                </svg>
              </div>
              <h3 class='mb-2 text-xl font-bold text-white'>Video Library</h3>
              <p class='text-muted'>Visual learning content</p>
            </div>

            <!-- Interactive -->
            <div
              class='group relative overflow-hidden rounded-3xl border border-white/10 p-8 transition-all duration-300 hover:border-accent/50'
              style='background: linear-gradient(135deg, rgba(6, 182, 212, 0.08) 0%, rgba(10, 15, 30, 0.8) 100%); backdrop-filter: blur(20px);'
            >
              <div
                class='mb-4 inline-flex rounded-2xl bg-accent/20 p-4 ring-1 ring-accent/30'
              >
                <svg
                  class='h-8 w-8 text-accent'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                >
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z'
                  ></path>
                </svg>
              </div>
              <h3 class='mb-2 text-xl font-bold text-white'>Interactive</h3>
              <p class='text-muted'>Track your progress</p>
            </div>

            <!-- Community -->
            <div
              class='hover:border-secondary/50 group relative overflow-hidden rounded-3xl border border-white/10 p-8 transition-all duration-300'
              style='background: linear-gradient(135deg, rgba(168, 85, 247, 0.08) 0%, rgba(10, 15, 30, 0.8) 100%); backdrop-filter: blur(20px);'
            >
              <div
                class='bg-secondary/20 ring-secondary/30 mb-4 inline-flex rounded-2xl p-4 ring-1'
              >
                <svg
                  class='text-secondary h-8 w-8'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                >
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z'
                  ></path>
                </svg>
              </div>
              <h3 class='mb-2 text-xl font-bold text-white'>
                Community Driven
              </h3>
              <p class='text-muted'>Built by developers for developers</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Simple Stats Bar -->
    <div class='container px-6 py-16'>
      <div
        class='mx-auto grid max-w-5xl gap-8 rounded-3xl border border-white/10 p-8 sm:grid-cols-3 sm:p-12'
        style='background: linear-gradient(135deg, rgba(10, 15, 30, 0.6) 0%, rgba(26, 31, 53, 0.4) 100%); backdrop-filter: blur(20px);'
      >
        <div class='text-center'>
          <div class='mb-2 text-4xl font-black text-white sm:text-5xl'>30+</div>
          <div class='text-base text-muted'>Comprehensive Roadmaps</div>
        </div>
        <div class='text-center'>
          <div class='mb-2 text-4xl font-black text-white sm:text-5xl'>40+</div>
          <div class='text-base text-muted'>Expert Guides</div>
        </div>
        <div class='text-center'>
          <div class='mb-2 text-4xl font-black text-white sm:text-5xl'>
            100%
          </div>
          <div class='text-base text-muted'>Free</div>
        </div>
      </div>
    </div>

    <FeaturedItems
      heading='Role based Roadmaps'
      featuredItems={roleRoadmaps.map((roadmapItem) => ({
        text: roadmapItem.frontmatter.briefTitle,
        url: `/${roadmapItem.id}`,
        isNew: roadmapItem.frontmatter.isNew,
        isUpcoming: roadmapItem.frontmatter.isUpcoming,
      }))}
    />

    <FeaturedItems
      heading='Skill based Roadmaps'
      featuredItems={skillRoadmaps.map((roadmapItem) => ({
        text:
          roadmapItem.frontmatter.briefTitle === 'Go'
            ? 'Go Roadmap'
            : roadmapItem.frontmatter.briefTitle,
        url: `/${roadmapItem.id}`,
        isNew: roadmapItem.frontmatter.isNew,
        isUpcoming: roadmapItem.frontmatter.isUpcoming,
      }))}
    />

    <FeaturedItems
      heading='Best Practices'
      featuredItems={bestPractices.map((bestPractice) => ({
        text: bestPractice.frontmatter.briefTitle,
        url: `/best-practices/${bestPractice.id}`,
        isNew: bestPractice.frontmatter.isNew,
        isUpcoming: bestPractice.frontmatter.isUpcoming,
      }))}
    />

    <!-- Latest Content -->
    <div class='container px-6 py-16 sm:py-24'>
      <div class='space-y-16 sm:space-y-24'>
        <!-- Guides -->
        <div>
          <div class='mb-8 flex items-center justify-between'>
            <h2 class='text-2xl font-black text-white sm:text-3xl'>
              Latest Guides
            </h2>
            <a
              href='/guides'
              class='inline-flex items-center gap-2 text-sm text-muted transition-colors hover:text-primary'
            >
              <span>View All</span>
              <svg
                class='h-4 w-4 transition-transform group-hover:translate-x-1'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M13 7l5 5m0 0l-5 5m5-5H6'></path>
              </svg>
            </a>
          </div>
          <div class='space-y-2'>
            {
              guides.slice(0, 5).map((guide) => (
                <a
                  href={`/guides/${guide.id}`}
                  class='group block rounded-xl border border-white/5 p-4 transition-all duration-300 hover:border-primary/30 hover:bg-white/[0.02]'
                >
                  <div class='flex items-center justify-between gap-4'>
                    <h3 class='text-sm font-medium text-white transition-colors group-hover:text-primary sm:text-base'>
                      {guide.frontmatter.title}
                    </h3>
                    <svg
                      class='h-4 w-4 shrink-0 text-muted transition-transform group-hover:translate-x-1 group-hover:text-primary'
                      fill='none'
                      stroke='currentColor'
                      viewBox='0 0 24 24'
                    >
                      <path
                        stroke-linecap='round'
                        stroke-linejoin='round'
                        stroke-width='2'
                        d='M13 7l5 5m0 0l-5 5m5-5H6'
                      />
                    </svg>
                  </div>
                </a>
              ))
            }
          </div>
        </div>

        <!-- Videos -->
        <div>
          <div class='mb-8 flex items-center justify-between'>
            <h2 class='text-2xl font-black text-white sm:text-3xl'>
              Latest Videos
            </h2>
            <a
              href='/videos'
              class='inline-flex items-center gap-2 text-sm text-muted transition-colors hover:text-primary'
            >
              <span>View All</span>
              <svg
                class='h-4 w-4 transition-transform group-hover:translate-x-1'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M13 7l5 5m0 0l-5 5m5-5H6'></path>
              </svg>
            </a>
          </div>
          <div class='grid gap-4 sm:grid-cols-2 lg:grid-cols-3'>
            {
              videos.slice(0, 6).map((video) => (
                <a
                  href={`/videos/${video.id}`}
                  class='group block overflow-hidden rounded-xl border border-white/5 p-5 transition-all duration-300 hover:border-primary/30 hover:bg-white/[0.02]'
                >
                  <div class='mb-3 inline-flex rounded-lg bg-primary/10 p-2.5 ring-1 ring-primary/20 transition-all group-hover:bg-primary/20'>
                    <svg
                      class='h-5 w-5 text-primary'
                      fill='none'
                      stroke='currentColor'
                      viewBox='0 0 24 24'
                    >
                      <path
                        stroke-linecap='round'
                        stroke-linejoin='round'
                        stroke-width='2'
                        d='M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z'
                      />
                      <path
                        stroke-linecap='round'
                        stroke-linejoin='round'
                        stroke-width='2'
                        d='M21 12a9 9 0 11-18 0 9 9 0 0118 0z'
                      />
                    </svg>
                  </div>
                  <h3 class='text-sm font-medium leading-snug text-white transition-colors group-hover:text-primary sm:text-base'>
                    {video.frontmatter.title}
                  </h3>
                </a>
              ))
            }
          </div>
        </div>
      </div>
    </div>

    <!-- Final CTA -->
    <div class='border-t border-white/5 py-20 sm:py-32'>
      <div class='container px-6'>
        <div class='mx-auto max-w-3xl text-center'>
          <h2 class='mb-4 text-4xl font-black text-white sm:text-5xl'>
            Ready to Start Learning?
          </h2>
          <p class='mb-10 text-lg text-muted sm:text-xl'>
            Join 100K+ developers mastering their skills with DevPath
          </p>
          <div
            class='flex flex-col items-center justify-center gap-4 sm:flex-row'
          >
            <a
              href='/roadmaps'
              class='btn-primary inline-flex items-center gap-2 px-10 py-5 text-base'
            >
              <span>Explore Roadmaps</span>
              <svg
                class='h-5 w-5'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M13 7l5 5m0 0l-5 5m5-5H6'></path>
              </svg>
            </a>
            <a
              href='https://github.com/kamranahmedse/developer-roadmap'
              target='_blank'
              class='btn-ghost inline-flex items-center gap-2 px-10 py-5 text-base'
            >
              <svg class='h-5 w-5 fill-current' viewBox='0 0 24 24'>
                <path
                  d='M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z'
                ></path>
              </svg>
              <span>Star on GitHub</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Override footer slot to show only Footer (not OpenSourceBanner) -->
  <div slot='page-footer'>
    <Footer />
  </div>
</BaseLayout>
