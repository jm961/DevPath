<!DOCTYPE html><link href=/_astro/_...topicId_.bad8bb91.css rel=stylesheet /><main class=prose-custom id=main-content><h1 id=objectid>ObjectId</h1><p>Object ID is a unique identifier in MongoDB and one of its primary datatypes. It is the default identifier created by MongoDB when you insert a document into a collection without specifying an <code>_id</code>.</p><h2 id=structure-of-an-object-id>Structure of an Object ID</h2><p>An Object ID consists of 12 bytes, where:</p><ul><li>The first 4 bytes represent the timestamp of the document’s creation in seconds since the Unix epoch.</li><li>The next 3 bytes contain a unique identifier of the machine where the document was created, usually calculated using its hostname.</li><li>Following that, 2 bytes represent the process ID of the system where the document was created.</li><li>The last 3 bytes are a counter that starts from a random value, incremented for each new document created.</li></ul><h2 id=benefits-of-object-id>Benefits of Object ID</h2><ul><li>The generation of the Object ID is unique, ensuring that no two documents have the same <code>_id</code> value in a collection.</li><li>The structure of the Object ID provides important information about the document’s creation, such as when and where it was created.</li><li>The Object ID enables efficient indexing and high performance in large-scale MongoDB deployments.</li></ul><h2 id=working-with-object-id>Working with Object ID</h2><p>Here are a few examples of how to work with Object IDs in MongoDB:</p><p><strong>1. Inserting a document without specifying an <code>_id</code>:</strong></p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#f8f8f2>db.collection.</span><span style=color:#50fa7b>insertOne</span><span style=color:#f8f8f2>({ title</span><span style=color:#ff79c6>:</span><span style=color:#f8f8f2> </span><span style=color:#e9f284>'</span><span style=color:#f1fa8c>Example</span><span style=color:#e9f284>'</span><span style=color:#f8f8f2> });</span></span></code></pre><p><strong>Output:</strong></p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#f8f8f2>{</span></span>
<span class=line><span style=color:#f8f8f2>  </span><span style=color:#e9f284>"</span><span style=color:#f1fa8c>_id</span><span style=color:#e9f284>"</span><span style=color:#f8f8f2>: </span><span style=color:#50fa7b>ObjectId</span><span style=color:#f8f8f2>(</span><span style=color:#e9f284>"</span><span style=color:#f1fa8c>60c4237a89293ddc1ef23245</span><span style=color:#e9f284>"</span><span style=color:#f8f8f2>),</span></span>
<span class=line><span style=color:#f8f8f2>  </span><span style=color:#e9f284>"</span><span style=color:#f1fa8c>title</span><span style=color:#e9f284>"</span><span style=color:#f8f8f2>: </span><span style=color:#e9f284>"</span><span style=color:#f1fa8c>Example</span><span style=color:#e9f284>"</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><p><strong>2. Creating Object ID manually:</strong></p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#ff79c6>const</span><span style=color:#f8f8f2> { ObjectId } </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> </span><span style=color:#50fa7b>require</span><span style=color:#f8f8f2>(</span><span style=color:#e9f284>'</span><span style=color:#f1fa8c>mongodb</span><span style=color:#e9f284>'</span><span style=color:#f8f8f2>);</span></span>
<span class=line><span style=color:#ff79c6>const</span><span style=color:#f8f8f2> objectId </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6;font-weight:700>new</span><span style=color:#f8f8f2> </span><span style=color:#50fa7b>ObjectId</span><span style=color:#f8f8f2>();</span></span></code></pre><p><strong>3. Converting Object ID to a string:</strong></p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#ff79c6>const</span><span style=color:#f8f8f2> objectIdStr </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> objectId.</span><span style=color:#50fa7b>toString</span><span style=color:#f8f8f2>();</span></span></code></pre><p><strong>4. Converting a string back to an Object ID:</strong></p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#ff79c6>const</span><span style=color:#f8f8f2> objectIdFromStr </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> </span><span style=color:#50fa7b>ObjectId</span><span style=color:#f8f8f2>(objectIdStr);</span></span></code></pre><h2 id=conclusion>Conclusion</h2><p>The Object ID datatype in MongoDB is a very powerful and efficient way to uniquely identify documents in a collection. Its structure provides valuable information about the document’s creation, and its design ensures high performance and scalability for large-scale MongoDB deployments. Understanding and effectively utilizing Object IDs is essential for successful MongoDB usage.</p></main>