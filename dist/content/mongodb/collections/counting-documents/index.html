<!DOCTYPE html><link href=/_astro/_...topicId_.bad8bb91.css rel=stylesheet /><main class=prose-custom id=main-content><h1 id=counting-documents>Counting Documents</h1><p>When working with MongoDB, you might often need to know the number of documents present in a collection. MongoDB provides a few methods to efficiently count documents in a collection. In this section, we will discuss the following methods:</p><ul><li><code>countDocuments()</code></li><li><code>estimatedDocumentCount()</code></li></ul><h2 id=countdocuments>countDocuments()</h2><p>The <code>countDocuments()</code> method is used to count the number of documents in a collection based on a specified filter. It provides an accurate count that may involve reading all documents in the collection.</p><p><strong>Syntax:</strong></p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#f8f8f2>collection.</span><span style=color:#50fa7b>countDocuments</span><span style=color:#f8f8f2>(filter, options);</span></span></code></pre><ul><li><code>filter</code>: (Optional) A query that will filter the documents before the count is applied.</li><li><code>options</code>: (Optional) Additional options for the count operation such as <code>skip</code>, <code>limit</code>, and <code>collation</code>.</li></ul><p><strong>Example:</strong></p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#f8f8f2>db.</span><span style=color:#50fa7b>collection</span><span style=color:#f8f8f2>(</span><span style=color:#e9f284>'</span><span style=color:#f1fa8c>orders</span><span style=color:#e9f284>'</span><span style=color:#f8f8f2>).</span><span style=color:#50fa7b>countDocuments</span><span style=color:#f8f8f2>(</span></span>
<span class=line><span style=color:#f8f8f2>  { status</span><span style=color:#ff79c6>:</span><span style=color:#f8f8f2> </span><span style=color:#e9f284>'</span><span style=color:#f1fa8c>completed</span><span style=color:#e9f284>'</span><span style=color:#f8f8f2> },</span></span>
<span class=line><span style=color:#f8f8f2>  (</span><span style=color:#ffb86c;font-style:italic>err</span><span style=color:#f8f8f2>, </span><span style=color:#ffb86c;font-style:italic>count</span><span style=color:#f8f8f2>) </span><span style=color:#ff79c6>=></span><span style=color:#f8f8f2> {</span></span>
<span class=line><span style=color:#f8f8f2>    console.</span><span style=color:#50fa7b>log</span><span style=color:#f8f8f2>(</span><span style=color:#e9f284>'</span><span style=color:#f1fa8c>Number of completed orders: </span><span style=color:#e9f284>'</span><span style=color:#f8f8f2>, count);</span></span>
<span class=line><span style=color:#f8f8f2>  }</span></span>
<span class=line><span style=color:#f8f8f2>);</span></span></code></pre><p>In the example above, we count the number of documents in the <code>orders</code> collection that have a<code>status</code> field equal to <code>'completed'</code>.</p><h2 id=estimateddocumentcount>estimatedDocumentCount()</h2><p>The <code>estimatedDocumentCount()</code> method provides an approximate count of documents in the collection, without applying any filters. This method uses the collection’s metadata to determine the count and is generally faster than <code>countDocuments()</code>.</p><p><strong>Syntax:</strong></p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#f8f8f2>collection.</span><span style=color:#50fa7b>estimatedDocumentCount</span><span style=color:#f8f8f2>(options);</span></span></code></pre><ul><li><code>options</code>: (Optional) Additional options for the count operation such as <code>maxTimeMS</code>.</li></ul><p><strong>Example:</strong></p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#f8f8f2>db.</span><span style=color:#50fa7b>collection</span><span style=color:#f8f8f2>(</span><span style=color:#e9f284>'</span><span style=color:#f1fa8c>orders</span><span style=color:#e9f284>'</span><span style=color:#f8f8f2>).</span><span style=color:#50fa7b>estimatedDocumentCount</span><span style=color:#f8f8f2>((</span><span style=color:#ffb86c;font-style:italic>err</span><span style=color:#f8f8f2>, </span><span style=color:#ffb86c;font-style:italic>count</span><span style=color:#f8f8f2>) </span><span style=color:#ff79c6>=></span><span style=color:#f8f8f2> {</span></span>
<span class=line><span style=color:#f8f8f2>  console.</span><span style=color:#50fa7b>log</span><span style=color:#f8f8f2>(</span><span style=color:#e9f284>'</span><span style=color:#f1fa8c>Estimated number of orders: </span><span style=color:#e9f284>'</span><span style=color:#f8f8f2>, count);</span></span>
<span class=line><span style=color:#f8f8f2>});</span></span></code></pre><p>In the example above, we get the estimated number of documents in the <code>orders</code> collection.</p><p>Keep in mind that you should use the <code>countDocuments()</code> method when you need to apply filters to count documents, while <code>estimatedDocumentCount()</code> should be used when an approximate count is sufficient and you don’t need to apply any filters.</p></main>