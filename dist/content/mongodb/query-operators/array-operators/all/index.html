<!DOCTYPE html><link href=/_astro/_...topicId_.bad8bb91.css rel=stylesheet /><main class=prose-custom id=main-content><h1 id=all>$all</h1><p>The <code>$all</code> operator is used to match arrays that contain all specified elements. This allows you to filter documents based on multiple values in a single array field.</p><h2 id=syntax>Syntax</h2><p>The basic syntax for using the <code>$all</code> operator is:</p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#f8f8f2>{</span></span>
<span class=line><span style=color:#f8f8f2>  &#x3C;</span><span style=color:#ff79c6>field</span><span style=color:#f8f8f2>>: </span><span style=color:#ff79c6>{</span></span>
<span class=line><span style=color:#f8f8f2>    $all: [&#x3C;</span><span style=color:#ff79c6>value1</span><span style=color:#f8f8f2>>, &#x3C;</span><span style=color:#ff79c6>value2</span><span style=color:#f8f8f2>>, ..., &#x3C;</span><span style=color:#8be9fd;font-style:italic>valueN</span><span style=color:#f8f8f2>>]</span></span>
<span class=line><span style=color:#f8f8f2>  }</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><p>Here, <code>&#x3C;field></code> refers to the name of the array field that should be queried, and <code>&#x3C;value1>, &#x3C;value2>, ..., &#x3C;valueN></code> are the values that you want to match against.</p><h2 id=example>Example</h2><p>Let’s assume we have a collection <code>movies</code> with documents containing the following fields: <code>_id</code>, <code>title</code>, and <code>tags</code>. The <code>tags</code> field is an array of string values.</p><p>Here is an example document from the <code>movies</code> collection:</p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#f8f8f2>{</span></span>
<span class=line><span style=color:#f8f8f2>  _id: </span><span style=color:#bd93f9>1</span><span style=color:#f8f8f2>,</span></span>
<span class=line><span style=color:#f8f8f2>  title: </span><span style=color:#e9f284>"</span><span style=color:#f1fa8c>The Matrix</span><span style=color:#e9f284>"</span><span style=color:#f8f8f2>,</span></span>
<span class=line><span style=color:#f8f8f2>  tags: [</span><span style=color:#e9f284>"</span><span style=color:#f1fa8c>action</span><span style=color:#e9f284>"</span><span style=color:#f8f8f2>, </span><span style=color:#e9f284>"</span><span style=color:#f1fa8c>sci-fi</span><span style=color:#e9f284>"</span><span style=color:#f8f8f2>, </span><span style=color:#e9f284>"</span><span style=color:#f1fa8c>cyberpunk</span><span style=color:#e9f284>"</span><span style=color:#f8f8f2>]</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><p>If you want to find all movies with the tags “action” and “sci-fi”, you can use the <code>$all</code> operator as shown below:</p><pre class="astro-code dracula" is:raw="" style=background-color:#282a36;overflow-x:auto tabindex=0><code><span class=line><span style=color:#f8f8f2>db.movies.</span><span style=color:#50fa7b>find</span><span style=color:#f8f8f2>({ tags</span><span style=color:#ff79c6>:</span><span style=color:#f8f8f2> { $all</span><span style=color:#ff79c6>:</span><span style=color:#f8f8f2> [</span><span style=color:#e9f284>'</span><span style=color:#f1fa8c>action</span><span style=color:#e9f284>'</span><span style=color:#f8f8f2>, </span><span style=color:#e9f284>'</span><span style=color:#f1fa8c>sci-fi</span><span style=color:#e9f284>'</span><span style=color:#f8f8f2>] } });</span></span></code></pre><p>This query would return all documents where the <code>tags</code> array contains <strong>both</strong> “action” and “sci-fi” values.</p><h2 id=summary>Summary</h2><p>The <code>$all</code> operator allows you to match documents based on the presence of multiple values in an array field. It provides a simple and powerful way to query for documents that meet specific criteria within arrays.</p></main>