import{a as c,T as p}from"./jwt.2ecd63f4.js";import{d as o}from"./hooks.module.33a64516.js";import{u as e}from"./jsxRuntime.module.9861337b.js";import"./preact.module.0dc3e805.js";const y=()=>{const[a,m]=o(""),[l,u]=o(""),[i,s]=o(""),[d,n]=o(!1);return e("form",{className:"w-full",onSubmit:async t=>{t.preventDefault(),n(!0),s(""),fetch("https://api.devpath.sh/api/v1-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:l})}).then(r=>r.json()).then(r=>{if(r.type==="user_not_verified"){window.location.href=`/verification-pending?email=${encodeURIComponent(a)}`;return}if(!r.token){n(!1),s(r.message||"Something went wrong. Please try again later.");return}c.set(p,r.token),window.location.reload()}).catch(r=>{n(!1),s("Something went wrong. Please try again later.")})},children:[e("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e("input",{name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"Email Address",value:a,onInput:t=>m(String(t.target.value))}),e("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e("input",{name:"password",type:"password",autoComplete:"current-password",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"Password",value:l,onInput:t=>u(String(t.target.value))}),e("p",{class:"mb-3 mt-2 text-sm text-gray-500",children:e("a",{href:"/forgot-password",className:"text-blue-800 hover:text-blue-600",children:"Reset your password?"})}),i&&e("p",{className:"mb-2 rounded-md bg-red-100 p-2 text-red-800",children:i}),e("button",{type:"submit",disabled:d,className:"inline-flex w-full items-center justify-center rounded-lg bg-black p-2 py-3 text-sm font-medium text-white outline-none focus:ring-2 focus:ring-black focus:ring-offset-1 disabled:bg-gray-400",children:d?"Please wait...":"Continue"})]})};export{y as default};
