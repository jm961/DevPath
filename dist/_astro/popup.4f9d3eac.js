class n{constructor(){this.triggerPopup=this.triggerPopup.bind(this),this.onDOMLoaded=this.onDOMLoaded.bind(this),this.handleClosePopup=this.handleClosePopup.bind(this),this.handleKeydown=this.handleKeydown.bind(this)}triggerPopup(e){const t=e?.target?.closest("[data-popup]")?.dataset?.popup||"unknown-popup",o=document.querySelector(`#${t}`);if(!o)return;o.classList.remove("hidden"),o.classList.add("flex");const s=o.querySelector("[autofocus]");s&&s.focus()}handleClosePopup(e){const t=e.target,o=t.closest(".popup-body"),s=t.closest(".popup");!t.closest(".popup-close")&&o||s&&(s.classList.add("hidden"),s.classList.remove("flex"))}handleKeydown(e){if("Escape"!==e.key)return;const t=document.querySelector(".popup:not(.hidden)");t&&(t.classList.add("hidden"),t.classList.remove("flex"))}onDOMLoaded(){document.addEventListener("click",this.triggerPopup),document.addEventListener("click",this.handleClosePopup),document.addEventListener("keydown",this.handleKeydown)}init(){window.addEventListener("DOMContentLoaded",this.onDOMLoaded)}}const d=new n;d.init();